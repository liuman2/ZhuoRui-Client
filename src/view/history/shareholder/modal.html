<div class="modal" style="display: block;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" ui-sref="^">
          <span aria-hidden="true">×</span></button>
        <h4 class="modal-title">股东变更</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal" id="shareholder_modal">
          <div class="form-group">
            <label class="col-sm-2 control-label">变更类型<span class="required">*</span></label>
            <div class="col-sm-8">
              <select class="form-control select2" ng-model="shareholder.changed_type" ng-change="typeChange()">
                <option value="">请选择</option>
                <option value="new">新进</option>
                <option value="exit">退出</option>
                <option value="takes">股份调整</option>
              </select>
            </div>
          </div>

          <div class="form-group" ng-if="shareholder.changed_type == 'exit' || shareholder.changed_type == 'takes'">
            <label class="col-sm-2 control-label">{{shareholder.changed_type == 'exit' ? '退出人员' : '调整人员'}}<span class="required">*</span></label>
            <div class="col-sm-8">
              <select
                class="form-control select2"
                name="shareholder.person_id"
                ng-model="shareholder.person_id"
                ng-change="personChange()"
                data-rule="required;"
              >
                <option value="">请选择</option>
                <option
                  ng-repeat="option in holderList"
                  value="{{option.id}}"
                  ng-selected="checkedSelected(shareholder.person_id, option.id)"
                  ng-disabled="checkDisabled(option.id)"
                >
                  {{option.name}}
                </option>
                <option value="-1">所要人员没在下拉列表中</option>
              </select>
            </div>
          </div>

          <div ng-if="shareholder.changed_type == 'new' || shareholder.person_id == -1">
            <div class="form-group">
              <label class="col-sm-2 control-label">姓名<span class="required">*</span></label>
              <div class="col-sm-8">
                <input type="text" class="form-control" name="shareholder.name" ng-model="shareholder.name" data-rule="required; length[~30];">
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-2 control-label">性别</label>
              <div class="col-sm-8">
                <select class="form-control select2" ng-model="shareholder.gender">
                  <option value="">选择性别</option>
                  <option value="男">男</option>
                  <option value="女">女</option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-2 control-label">身份证</label>
              <div class="col-sm-8">
                <input type="text" class="form-control" name="shareholder.cardNo" ng-model="shareholder.cardNo" data-rule="length[~50];">
              </div>
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">担任职务</label>
            <div class="col-sm-8">
              <input type="text" class="form-control" name="shareholder.position" ng-model="shareholder.position" data-rule="length[~60];">
            </div>
          </div>
          <div class="form-group" ng-if="shareholder.changed_type == 'new' || shareholder.person_id == -1 || shareholder.changed_type == 'takes'">
            <label class="col-sm-2 control-label">股份比例</label>
            <div class="col-sm-8">
              <input type="text" class="form-control" name="shareholder.takes" ng-model="shareholder.takes" data-rule-money="[/^(([1-9]\d{0,9})|0)(\.\d{1,2})?$/, '请填写2位数的数值']" data-rule="money;">
            </div>
            <span style="display: inline-block;line-height: 34px;">%</span>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">备注</label>
            <div class="col-sm-8">
              <input type="text" class="form-control" name="shareholder.memo" ng-model="shareholder.memo" data-rule="length[~200];">
            </div>
          </div>

        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default pull-left" data-dismiss="modal" ui-sref="^">取消</button>
        <button type="button" class="btn btn-primary" ng-click="save()">确定</button>
      </div>
    </div>
  </div>
</div>
